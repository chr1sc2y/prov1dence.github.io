<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Disaster Recovery Architecture on AWS | ChrisChen - 尾張</title>
<meta name=keywords content><meta name=description content="Disaster Recovery Architecture on AWS
[TOC]
The downtime of software systems could have a significant impact on business, customer satisfaction, reputation, or income of the company. Thus maintaining the availability and durability must be the most crucial part of a software system. Disaster recovery (DR) helps engineers prepare for disaster events. This post summaries the architecture for DR on AWS.
DR objectives
There are two key objectives:


Recovery time objective (RTO): The maximum time range between service collapse and service restoration. It represents how quickly the service could be restarted."><meta name=author content><link rel=canonical href=https://prov1dence.top/posts/disaster-recovery-architecture-on-aws/disaster-recovery-architecture-on-aws-9b3dc135d29c47acbfe19084c57035d5/><link crossorigin=anonymous href=/assets/css/stylesheet.45e028aa8ce0961349adf411b013ee39406be2c0bc80d4ea3fc04555f7f4611a.css integrity="sha256-ReAoqozglhNJrfQRsBPuOUBr4sC8gNTqP8BFVff0YRo=" rel="preload stylesheet" as=style><link rel=icon href=https://prov1dence.top/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://prov1dence.top/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://prov1dence.top/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://prov1dence.top/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://prov1dence.top/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://prov1dence.top/posts/disaster-recovery-architecture-on-aws/disaster-recovery-architecture-on-aws-9b3dc135d29c47acbfe19084c57035d5/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://prov1dence.top/posts/disaster-recovery-architecture-on-aws/disaster-recovery-architecture-on-aws-9b3dc135d29c47acbfe19084c57035d5/"><meta property="og:site_name" content="ChrisChen - 尾張"><meta property="og:title" content="Disaster Recovery Architecture on AWS"><meta property="og:description" content="Disaster Recovery Architecture on AWS [TOC]
The downtime of software systems could have a significant impact on business, customer satisfaction, reputation, or income of the company. Thus maintaining the availability and durability must be the most crucial part of a software system. Disaster recovery (DR) helps engineers prepare for disaster events. This post summaries the architecture for DR on AWS.
DR objectives There are two key objectives:
Recovery time objective (RTO): The maximum time range between service collapse and service restoration. It represents how quickly the service could be restarted."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-01-11T09:55:04+11:00"><meta property="article:modified_time" content="2023-01-11T09:55:04+11:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Disaster Recovery Architecture on AWS"><meta name=twitter:description content="Disaster Recovery Architecture on AWS
[TOC]
The downtime of software systems could have a significant impact on business, customer satisfaction, reputation, or income of the company. Thus maintaining the availability and durability must be the most crucial part of a software system. Disaster recovery (DR) helps engineers prepare for disaster events. This post summaries the architecture for DR on AWS.
DR objectives
There are two key objectives:


Recovery time objective (RTO): The maximum time range between service collapse and service restoration. It represents how quickly the service could be restarted."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://prov1dence.top/posts/"},{"@type":"ListItem","position":2,"name":"Disaster Recovery Architecture on AWS","item":"https://prov1dence.top/posts/disaster-recovery-architecture-on-aws/disaster-recovery-architecture-on-aws-9b3dc135d29c47acbfe19084c57035d5/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Disaster Recovery Architecture on AWS","name":"Disaster Recovery Architecture on AWS","description":"Disaster Recovery Architecture on AWS [TOC]\nThe downtime of software systems could have a significant impact on business, customer satisfaction, reputation, or income of the company. Thus maintaining the availability and durability must be the most crucial part of a software system. Disaster recovery (DR) helps engineers prepare for disaster events. This post summaries the architecture for DR on AWS.\nDR objectives There are two key objectives:\nRecovery time objective (RTO): The maximum time range between service collapse and service restoration. It represents how quickly the service could be restarted.\n","keywords":[],"articleBody":"Disaster Recovery Architecture on AWS [TOC]\nThe downtime of software systems could have a significant impact on business, customer satisfaction, reputation, or income of the company. Thus maintaining the availability and durability must be the most crucial part of a software system. Disaster recovery (DR) helps engineers prepare for disaster events. This post summaries the architecture for DR on AWS.\nDR objectives There are two key objectives:\nRecovery time objective (RTO): The maximum time range between service collapse and service restoration. It represents how quickly the service could be restarted.\nRecovery point objective (RPO): The maximum time range between data being last backed up and the disaster happening. It represents how much loss of data is acceptable.\nWe can observe from the figure above that the lower RTO and RPO are, the less recovery time and less loss of data could be. But in the meanwhile, lower RTO and RPO also take more resources, e.g, redundancy, money, and operational complexity. Therefore we need to decide on the appropriate RTO and RPO values that suites the best for our services.\nDR strategies AWS offers four strategies for DR, as shown below.\nWe can observe from the figure that there are 3 types of active/passive strategies: Backup \u0026 Restore, Pilot Light, Warm Standby, and 1 type of active/active strategy: Multi-site active/active.\nActive/passive vs. active/active DR strategies Active/passive strategy From the figure below, we can see how active/passive DR strategy works.\nAll traffic goes to a single AWS region called Active Region. If a disaster event occurs and the Active Region goes down, then the region where standby servers are located becomes the Recovery Region. All traffic will be switched to be routed to Recovery Region, and the workload can now operate from Recovery Region. This process is called failover.\nThe 3 types of active-passive strategies are distinguished by how tight the RTO/RPO objectives should be, but for any type, the infrastructure should be fully or partially deployed in the Recovery Region before failover.\nActive/active strategy From the figure below, we can see how active/active DR strategy works.\nTwo or more regions are actively accepting requests, and data is replicated between these two regions. When any region undergoes a disaster event, failover happens and the traffic for that Region is routed to the remaining regions.\nStrategies Backup \u0026 Restore Backup and Restore strategy is a suitable approach for mitigating against data loss/corruption. This approach confronts a regional disaster event by replicating/mirroring data to other AWS Regions periodically, e.g. each 1 hour. For utilizing the data backup, the data layer and the application layer in the service architecture should be separated.\nThis strategy lowers cost and is relatively easy to implement, and these features make it a good choice for many AWS workloads.\nPilot Light and Warm Standby Pilot Light and Warm Standby strategies both offer a good balance of benefits and costs. The traffic is routed to Active Region originally, and fallback turns the traffic to Recovery Region when disaster event occurs.\nThe similarity between these two strategies is that both include an environment in the Recovery Region with copies of Active Region assets. The distinctions are that pilot light cannot process requests without additional action taken first, whereas warm standby can handle traffic immediately. The pilot light approach requires manual operations to turn on servers, and possibly deploy additional infrastructure, whereas for warm standby everything is already deployed and running, and what we need to consider is whether we should scale up or not. Use RTO and RPO objectives to help choose between these approaches.\nMulti-Site Active/Active With Multi-Site Active/Active strategy, each Region hosts a highly available workload stack, and each stack serves production traffic from where it is deployed. With a multi-site active/active approach, users are able to access the workload in any of the Regions in which it is deployed. This approach is the most complex and costly one, but it can reduce recovery time to an extremely low level.\nIf the workload cannot operate in a region, failover will route traffic away from the impacted Region to healthy Regions. We can use Route 53 or Global Accelerator for routing and failover. Consider the multi-site active/active strategy for our workload if we require the lowest RTO lowest the RPO objectives.\nConclusion There is no absolute best strategy to handle disaster events for any circumstance, we may need to analyze the business needs, the expenditure, the benefits, and the risks of applying each strategy to our business.\nFor more about DR, refer to Disaster recovery options in the cloud\n","wordCount":"758","inLanguage":"en","datePublished":"2023-01-11T09:55:04+11:00","dateModified":"2023-01-11T09:55:04+11:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://prov1dence.top/posts/disaster-recovery-architecture-on-aws/disaster-recovery-architecture-on-aws-9b3dc135d29c47acbfe19084c57035d5/"},"publisher":{"@type":"Organization","name":"ChrisChen - 尾張","logo":{"@type":"ImageObject","url":"https://prov1dence.top/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://prov1dence.top/ accesskey=h title="尾張 (Alt + H)">尾張</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://prov1dence.top/archives/ title=Posts><span>Posts</span></a></li><li><a href=https://prov1dence.top/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Disaster Recovery Architecture on AWS</h1><div class=post-meta><span title='2023-01-11 09:55:04 +1100 AEDT'>January 11, 2023</span>&nbsp;·&nbsp;4 min</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#disaster-recovery-architecture-on-aws aria-label="Disaster Recovery Architecture on AWS">Disaster Recovery Architecture on AWS</a><ul><li><a href=#dr-objectives aria-label="DR objectives">DR objectives</a></li><li><a href=#dr-strategies aria-label="DR strategies">DR strategies</a><ul><li><a href=#activepassive-vsactiveactive-dr-strategies aria-label="Active/passive vs. active/active DR strategies">Active/passive vs. active/active DR strategies</a></li><li><a href=#activepassive-strategy aria-label="Active/passive strategy">Active/passive strategy</a></li><li><a href=#activeactive-strategy aria-label="Active/active strategy">Active/active strategy</a></li><li><a href=#strategies aria-label=Strategies>Strategies</a></li><li><a href=#backup--restore aria-label="Backup & Restore">Backup & Restore</a></li><li><a href=#pilot-light-and-warm-standby aria-label="Pilot Light and Warm Standby">Pilot Light and Warm Standby</a></li><li><a href=#multi-site-activeactive aria-label="Multi-Site Active/Active">Multi-Site Active/Active</a></li></ul></li><li><a href=#conclusion aria-label=Conclusion>Conclusion</a></li></ul></li></ul></div></details></div><div class=post-content><h1 id=disaster-recovery-architecture-on-aws>Disaster Recovery Architecture on AWS<a hidden class=anchor aria-hidden=true href=#disaster-recovery-architecture-on-aws>#</a></h1><p>[TOC]</p><p>The downtime of software systems could have a significant impact on business, customer satisfaction, reputation, or income of the company. Thus maintaining the availability and durability must be the most crucial part of a software system. Disaster recovery (DR) helps engineers prepare for disaster events. This post summaries the architecture for DR on AWS.</p><h2 id=dr-objectives>DR objectives<a hidden class=anchor aria-hidden=true href=#dr-objectives>#</a></h2><p>There are two key objectives:</p><ul><li><p><strong>Recovery time objective (RTO)</strong>: The maximum time range between service <strong>collapse</strong> and service <strong>restoration</strong>. It represents <strong>how quickly the service could be restarted</strong>.</p></li><li><p><strong>Recovery point objective (RPO)</strong>: The maximum time range between data being <strong>last backed up</strong> and the <strong>disaster happening</strong>. It represents <strong>how much loss of data is acceptable</strong>.</p><p><img alt=dr-strategies.png loading=lazy src=https://raw.githubusercontent.com/chr1sc2y/prov1dence.github.io/refs/heads/master/posts/Disaster%20Recovery%20Architecture%20on%20AWS/dr-strategies.png></p></li></ul><p>We can observe from the figure above that the lower RTO and RPO are, the less recovery time and less loss of data could be. But in the meanwhile, lower RTO and RPO also take more resources, e.g, redundancy, money, and operational complexity. Therefore we need to decide on the appropriate RTO and RPO values that suites the best for our services.</p><h2 id=dr-strategies>DR strategies<a hidden class=anchor aria-hidden=true href=#dr-strategies>#</a></h2><p>AWS offers four strategies for DR, as shown below.</p><p><img alt=dr-strategies.png loading=lazy src=https://raw.githubusercontent.com/chr1sc2y/prov1dence.github.io/refs/heads/master/posts/Disaster%20Recovery%20Architecture%20on%20AWS/dr-strategies%201.png></p><p>We can observe from the figure that there are 3 types of active/passive strategies: Backup & Restore, Pilot Light, Warm Standby, and 1 type of active/active strategy: Multi-site active/active.</p><h3 id=activepassive-vsactiveactive-dr-strategies>Active/passive vs. active/active DR strategies<a hidden class=anchor aria-hidden=true href=#activepassive-vsactiveactive-dr-strategies>#</a></h3><h3 id=activepassive-strategy>Active/passive strategy<a hidden class=anchor aria-hidden=true href=#activepassive-strategy>#</a></h3><p>From the figure below, we can see how active/passive DR strategy works.</p><p><img alt=active-passsive.png loading=lazy src=https://raw.githubusercontent.com/chr1sc2y/prov1dence.github.io/refs/heads/master/posts/Disaster%20Recovery%20Architecture%20on%20AWS/active-passsive.png></p><p>All traffic goes to a single AWS region called <strong>Active Region</strong>. If a disaster event occurs and the Active Region goes down, then the region where standby servers are located becomes the <strong>Recovery Region</strong>. All traffic will be switched to be routed to Recovery Region, and the workload can now operate from Recovery Region. This process is called <strong>failover</strong>.</p><p>The 3 types of active-passive strategies are distinguished by <strong>how tight the RTO/RPO objectives should be</strong>, but for any type, the infrastructure should be fully or partially deployed in the Recovery Region before failover.</p><h3 id=activeactive-strategy>Active/active strategy<a hidden class=anchor aria-hidden=true href=#activeactive-strategy>#</a></h3><p>From the figure below, we can see how active/active DR strategy works.</p><p><img alt=active-active.png loading=lazy src=https://raw.githubusercontent.com/chr1sc2y/prov1dence.github.io/refs/heads/master/posts/Disaster%20Recovery%20Architecture%20on%20AWS/active-active.png></p><p><strong>Two or more regions are actively accepting requests</strong>, and <strong>data is replicated</strong> between these two regions. When any region undergoes a disaster event, failover happens and the traffic for that Region is routed to the remaining regions.</p><h3 id=strategies>Strategies<a hidden class=anchor aria-hidden=true href=#strategies>#</a></h3><h3 id=backup--restore>Backup & Restore<a hidden class=anchor aria-hidden=true href=#backup--restore>#</a></h3><p>Backup and Restore strategy is a suitable approach for mitigating against <strong>data loss/corruption</strong>. This approach confronts a regional disaster event by replicating/mirroring data to other AWS Regions periodically, e.g. each 1 hour. For utilizing the data backup, the data layer and the application layer in the service architecture should be <strong>separated</strong>.</p><p><img alt=backup-and-restore.jpg loading=lazy src=https://raw.githubusercontent.com/chr1sc2y/prov1dence.github.io/refs/heads/master/posts/Disaster%20Recovery%20Architecture%20on%20AWS/backup-and-restore.jpg></p><p>This strategy lowers cost and is relatively easy to implement, and these features make it a good choice for many AWS workloads.</p><h3 id=pilot-light-and-warm-standby>Pilot Light and Warm Standby<a hidden class=anchor aria-hidden=true href=#pilot-light-and-warm-standby>#</a></h3><p>Pilot Light and Warm Standby strategies both offer a good balance of benefits and costs. The traffic is routed to Active Region originally, and fallback turns the traffic to Recovery Region when disaster event occurs.</p><p><img alt=pilot-light-and-warm-standby.jpg loading=lazy src=https://raw.githubusercontent.com/chr1sc2y/prov1dence.github.io/refs/heads/master/posts/Disaster%20Recovery%20Architecture%20on%20AWS/pilot-light-and-warm-standby.jpg></p><p>The similarity between these two strategies is that both include an environment in the Recovery Region with copies of Active Region assets. The distinctions are that pilot light cannot process requests without <strong>additional action taken first</strong>, whereas warm standby can <strong>handle traffic immediately</strong>. The pilot light approach requires <strong>manual operations</strong> to turn on servers, and possibly deploy additional infrastructure, whereas for warm standby <strong>everything is already deployed and running</strong>, and what we need to consider is whether we should scale up or not. Use RTO and RPO objectives to help choose between these approaches.</p><h3 id=multi-site-activeactive>Multi-Site Active/Active<a hidden class=anchor aria-hidden=true href=#multi-site-activeactive>#</a></h3><p>With Multi-Site Active/Active strategy, each Region hosts a <strong>highly available workload stack</strong>, and each stack <strong>serves production traffic</strong> from where it is deployed. With a multi-site active/active approach, users are able to access the workload in any of the Regions in which it is deployed. This approach is the most complex and costly one, but it can reduce recovery time to an extremely low level.</p><p><img alt=multi-site-active-active.jpg loading=lazy src=https://raw.githubusercontent.com/chr1sc2y/prov1dence.github.io/refs/heads/master/posts/Disaster%20Recovery%20Architecture%20on%20AWS/multi-site-active-active.jpg></p><p>If the workload cannot operate in a region, failover will route traffic away from the impacted Region to healthy Regions. We can use Route 53 or Global Accelerator for routing and failover. Consider the multi-site active/active strategy for our workload if we require the lowest RTO lowest the RPO objectives.</p><h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2><p>There is no absolute best strategy to handle disaster events for any circumstance, we may need to analyze the business needs, the expenditure, the benefits, and the risks of applying each strategy to our business.</p><p>For more about DR, refer to <a href=https://docs.aws.amazon.com/whitepapers/latest/disaster-recovery-workloads-on-aws/disaster-recovery-options-in-the-cloud.html#multi-site-activeactive>Disaster recovery options in the cloud</a></p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://prov1dence.top/posts/data/redis-%E6%8C%81%E4%B9%85%E5%8C%96%E6%9C%BA%E5%88%B6-rdb-%E5%92%8C-aof-72a88c70207a4518824d1fe4be7ebb9e/><span class=title>« Prev</span><br><span>Redis 持久化机制: RDB 和 AOF</span>
</a><a class=next href=https://prov1dence.top/posts/version-control/git/><span class=title>Next »</span><br><span>Git Reference</span></a></nav></footer></article></main><footer class=footer></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>